

<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1,user-scalable=no"
    />
    <title>NaviGator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-control-search/3.0.1/css/bundle.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="./algorithms.js" type="module"></script>
  </head>
  <body>
    <div id="map-container">
      <div id="map"></div>
      <div id="input-container">
        <div id="menu-toggle">Hide menu</div>
        <h2>NaviGator</h2>
        <section id="mainText">
          <label for="startLocation"> Starting Point:</label>
          <input type="text" id="startLocation" name="startLocation" />
          <br />
          <label for="endLocation">Destination:</label>
          <input type="text" id="endLocation" name="endLocation" />
          <br />
          <input type="checkbox" id="option1" name="option1" value="option1" />
          <label for="option1">Dijkstra's</label><br />
          <input type="checkbox" id="option2" name="option2" value="option2" />
          <label for="option2">Breadth-First Search</label><br />
          <button id="calculate-route-btn" onclick="calculateRoute()"> Calculate Route </button>
        </section>
      </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script type = module>
      // Import the readAirportsFromFile function
      import fs from 'fs';
      import readAirportsFromFile from './parsefile.js';

      // Define a route handler that calls the readAirportsFromFile function

      var map = L.map("map").setView([29.6413, -82.357], 13);
      //map.dragging.disable();
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution:
          'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
        maxZoom: 18,
      }).addTo(map);
      
      // create a marker with clickable set to true
      var marker = L.marker([29.6413, -82.357], {
        clickable: true
      }).addTo(map);
      var markerLayer = L.layerGroup().addTo(map);

      const airports = readAirportsFromFile('./airports.dat.txt');
      for (let i = 0; i < airports.names.length; i++) { 
        const name = airports.names[i];
        const latitude = airports.latitudes[i];
        const longitude = airports.longitudes[i] ;
        const marker = L.marker([latitude, longitude]).addTo(map);
        marker.bindPopup(name);
      }


      map.on('click', function(e) {
        markerLayer.clearLayers();
        // create new marker at click location
        var marker = L.marker(e.latlng).addTo(markerLayer);
        // get the latitude and longitude of the click event
        var latlng = e.latlng;
    
      });

      

      var isContainerVisible = true;
      document.getElementById("menu-toggle").addEventListener("click", function() {
        var inputContainer = document.getElementById("input-container");
        var menuToggle = document.getElementById("menu-toggle");
        if (isContainerVisible) {
          inputContainer.style.left = "-500px";
          isContainerVisible = false;
          menuToggle.innerText = "Show menu";
        } else {
          inputContainer.style.left = "0px";
          isContainerVisible = true;
          menuToggle.innerText = "Hide menu";
        }
      });


      
    </script>
  </head>
</html>
